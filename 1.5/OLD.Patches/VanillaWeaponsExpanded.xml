<?xml version="1.0" encoding="utf-8" ?>
<Patch>

<Operation Class="PatchOperationFindMod">
    <mods>
        <li>Vanilla Weapons Expanded</li>
    </mods>
	<match Class="PatchOperationSequence">
		<success>Always</success>
		<operations>

			<!-- Triple Rocket Launcher -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "Gun_TripleRocket"]/costList/Steel</xpath>
				<value>
					<Steel>120</Steel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "Gun_TripleRocket"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>40</VMEu_StainlessSteel>
				</value>
			</li>

			<!-- Doomsday Rocket -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "Gun_DoomsdayRocket"]/costList/Steel</xpath>
				<value>
					<Steel>80</Steel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "Gun_DoomsdayRocket"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>20</VMEu_StainlessSteel>
				</value>
			</li>
			
			<!-- Rocket Launcher -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_RocketLauncher"]/costList/Steel</xpath>
				<value>
					<Steel>40</Steel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_RocketLauncher"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>20</VMEu_StainlessSteel>
				</value>
			</li>

			<!-- Grenade Launcher -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_GrenadeLauncher"]/costList/Steel</xpath>
				<value>
					<Steel>65</Steel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_GrenadeLauncher"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>10</VMEu_StainlessSteel>
				</value>
			</li>

			<!-- Flamethrower -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_Flamethrower"]/costList/Steel</xpath>
				<value>
					<Steel>60</Steel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_Flamethrower"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>15</VMEu_StainlessSteel>
				</value>
			</li>

			<!-- Light -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_LightSMG"]/costList/Steel</xpath>
				<value>
					<Steel>35</Steel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_LightSMG"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>10</VMEu_StainlessSteel>
				</value>
			</li>

			<!-- SMG -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_SMG"]/costList/Steel</xpath>
				<value>
					<Steel>60</Steel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_SMG"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>15</VMEu_StainlessSteel>
				</value>
			</li>

			<!-- HMG -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_HMG"]/costList/Steel</xpath>
				<value>
					<Steel>60</Steel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_HMG"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>15</VMEu_StainlessSteel>
				</value>
			</li>

			<!-- Service Rifle -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_ServiceRifle"]/costList/Steel</xpath>
				<value>
					<Steel>50</Steel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_ServiceRifle"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>10</VMEu_StainlessSteel>
				</value>
			</li>

			<!-- Battle Rifle -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_BattleRifle"]/costList/Steel</xpath>
				<value>
					<Steel>50</Steel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_BattleRifle"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>10</VMEu_StainlessSteel>
				</value>
			</li>

			<!-- Carbine -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_Carbine"]/costList/Steel</xpath>
				<value>
					<Steel>50</Steel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_Carbine"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>10</VMEu_StainlessSteel>
				</value>
			</li>

			<!-- Marksman Rifle -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_MarksmanRifle"]/costList/Steel</xpath>
				<value>
					<Steel>100</Steel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_MarksmanRifle"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>20</VMEu_StainlessSteel>
				</value>
			</li>

			<!-- Anti-material Rifle -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_AntiMaterialRifle"]/costList/Steel</xpath>
				<value>
					<Steel>110</Steel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_AntiMaterialRifle"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>50</VMEu_StainlessSteel>
				</value>
			</li>





			<!-- #### Spacer #### -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_ChargePistol"]/costList</xpath>
				<value>
					<costList>
					  <Plasteel>15</Plasteel>
					  <VMEu_Titanium>15</VMEu_Titanium>
					  <ComponentSpacer>1</ComponentSpacer>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_ChargeShotgun"]/costList</xpath>
				<value>
					<costList>
					  <Plasteel>30</Plasteel>
					  <VMEu_Titanium>20</VMEu_Titanium>
					  <ComponentSpacer>2</ComponentSpacer>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_ChargeSMG"]/costList</xpath>
				<value>
					<costList>
					  <Plasteel>20</Plasteel>
					  <VMEu_Titanium>20</VMEu_Titanium>
					  <ComponentSpacer>2</ComponentSpacer>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_ChargeLMG"]/costList</xpath>
				<value>
					<costList>
					  <Plasteel>50</Plasteel>
					  <VMEu_Titanium>30</VMEu_Titanium>
					  <ComponentSpacer>4</ComponentSpacer>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_ChargeSniperRifle"]/costList</xpath>
				<value>
					<costList>
					  <Plasteel>30</Plasteel>
					  <VMEu_Titanium>20</VMEu_Titanium>
					  <ComponentSpacer>3</ComponentSpacer>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_ChargeMinigun"]/costList</xpath>
				<value>
					<costList>
					  <Plasteel>100</Plasteel>
					  <VMEu_Titanium>50</VMEu_Titanium>
					  <ComponentSpacer>8</ComponentSpacer>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_ChargeRocketLauncher"]/costList</xpath>
				<value>
					<costList>
					  <Steel>90</Steel>
					  <VMEu_StainlessSteel>30</VMEu_StainlessSteel>
					  <ComponentSpacer>2</ComponentSpacer>
					  <Shell_AntigrainWarhead>1</Shell_AntigrainWarhead>
					</costList>
				</value>
			</li>
			<!-- ### Grenades ### -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_ToxicGrenade"]/costList</xpath>
				<value>
					<costList>
						<Chemfuel>100</Chemfuel>
						<Plasteel>15</Plasteel>
						<VMEu_Titanium>20</VMEu_Titanium>
						<ComponentSpacer>1</ComponentSpacer>
					</costList>
				</value>
			</li>

			<!-- Flash Grenade -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_FlashGrenade"]/costList/Steel</xpath>
				<value>
					<Steel>20</Steel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "VWE_FlashGrenade"]/costList</xpath>
				<value>
					<VMEu_Tungsten>20</VMEu_Tungsten>
				</value>
			</li>

		</operations>
	</match>
</Operation>

<Operation Class="PatchOperationFindMod">
    <mods>
        <li>Vanilla Weapons Expanded - Quickdraw</li>
    </mods>
	<match Class="PatchOperationSequence">
		<success>Always</success>
		<operations>

			<!-- Automatic Pistol -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_AutomaticPistol"]/costList/Plasteel</xpath>
				<value>
					<Plasteel>5</Plasteel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_AutomaticPistol"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>15</VMEu_StainlessSteel>
					<VMEu_Titanium>5</VMEu_Titanium>
				</value>
			</li>

			<!-- Bullpup Rifle -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_BullpupRifle"]/costList/Plasteel</xpath>
				<value>
					<Plasteel>30</Plasteel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_BullpupRifle"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>30</VMEu_StainlessSteel>
					<VMEu_Titanium>30</VMEu_Titanium>
				</value>
			</li>

			<!-- Bullpup DMR -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_BullpupDMR"]/costList/Steel</xpath>
				<value>
					<Steel>20</Steel>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_BullpupDMR"]/costList/Plasteel</xpath>
				<value>
					<Plasteel>20</Plasteel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_BullpupDMR"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>60</VMEu_StainlessSteel>
					<VMEu_Titanium>20</VMEu_Titanium>
				</value>
			</li>

			<!-- PDW -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_PDW"]/costList/Steel</xpath>
				<value>
					<Steel>15</Steel>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_PDW"]/costList/Plasteel</xpath>
				<value>
					<Plasteel>12</Plasteel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_PDW"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>35</VMEu_StainlessSteel>
					<VMEu_Titanium>13</VMEu_Titanium>
				</value>
			</li>
		</operations>
	</match>
</Operation>

<Operation Class="PatchOperationFindMod">
    <mods>
        <li>Vanilla Weapons Expanded - Laser</li>
    </mods>
	<match Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWEL_LaserSword"]/costList</xpath>
				<value>
					<costList>
						<VMEu_Lithium>35</VMEu_Lithium>
						<VMEu_Tungsten>100</VMEu_Tungsten>
						<Plasteel>30</Plasteel>
						<ComponentSpacer>10</ComponentSpacer>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWEL_Gun_LaserPistol"]/costList</xpath>
				<value>
					<costList>
						<VMEu_Lithium>18</VMEu_Lithium>
						<VMEu_Tungsten>75</VMEu_Tungsten>
						<Plasteel>60</Plasteel>
						<ComponentSpacer>4</ComponentSpacer>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWEL_Gun_LaserSMG"]/costList</xpath>
				<value>
					<costList>
						<VMEu_Lithium>20</VMEu_Lithium>
						<VMEu_Tungsten>75</VMEu_Tungsten>
						<Plasteel>60</Plasteel>
						<ComponentSpacer>5</ComponentSpacer>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWEL_Gun_LaserRifle"]/costList</xpath>
				<value>
					<costList>
						<VMEu_Lithium>20</VMEu_Lithium>
						<VMEu_Tungsten>55</VMEu_Tungsten>
						<Plasteel>70</Plasteel>
						<ComponentSpacer>6</ComponentSpacer>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWEL_Gun_LaserShotgun"]/costList</xpath>
				<value>
					<costList>
						<VMEu_Lithium>20</VMEu_Lithium>
						<VMEu_Tungsten>55</VMEu_Tungsten>
						<Plasteel>70</Plasteel>
						<ComponentSpacer>6</ComponentSpacer>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWEL_Gun_LaserSniperRifle"]/costList</xpath>
				<value>
					<costList>
						<VMEu_Lithium>42</VMEu_Lithium>
						<VMEu_Tungsten>65</VMEu_Tungsten>
						<Plasteel>70</Plasteel>
						<ComponentSpacer>8</ComponentSpacer>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWEL_Gun_LaserMinigun"]/costList</xpath>
				<value>
					<costList>
						<VMEu_Lithium>100</VMEu_Lithium>
						<VMEu_Tungsten>30</VMEu_Tungsten>
						<Plasteel>100</Plasteel>
						<ComponentSpacer>10</ComponentSpacer>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWEL_Gun_TeslaGun"]/costList</xpath>
				<value>
					<costList>
						<VMEu_Copper>12</VMEu_Copper>
						<VMEu_Lithium>20</VMEu_Lithium>
						<VMEu_Tungsten>30</VMEu_Tungsten>
						<Plasteel>80</Plasteel>
						<ComponentSpacer>8</ComponentSpacer>
					</costList>
				</value>
			</li>
			<!-- Salvaged -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWEL_Gun_SalvagedLaserPistol"]/costList</xpath>
				<value>
					<costList>
						<VMEu_Lithium>12</VMEu_Lithium>
						<VMEu_Tungsten>75</VMEu_Tungsten>
						<Plasteel>60</Plasteel>
						<ComponentSpacer>12</ComponentSpacer>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWEL_Gun_SalvagedLaserRifle"]/costList</xpath>
				<value>
					<costList>
						<VMEu_Lithium>12</VMEu_Lithium>
						<VMEu_Tungsten>75</VMEu_Tungsten>
						<Plasteel>60</Plasteel>
						<ComponentSpacer>12</ComponentSpacer>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWEL_Gun_SalvagedLaserShotgun"]/costList</xpath>
				<value>
					<costList>
						<VMEu_Lithium>12</VMEu_Lithium>
						<VMEu_Tungsten>75</VMEu_Tungsten>
						<Plasteel>60</Plasteel>
						<ComponentSpacer>12</ComponentSpacer>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWEL_Gun_SalvagedLaserSniperRifle"]/costList</xpath>
				<value>
					<costList>
						<VMEu_Lithium>12</VMEu_Lithium>
						<VMEu_Tungsten>75</VMEu_Tungsten>
						<Plasteel>60</Plasteel>
						<ComponentSpacer>12</ComponentSpacer>
					</costList>
				</value>
			</li>
		</operations>
	</match>
</Operation>

<Operation Class="PatchOperationFindMod">
    <mods>
        <li>Vanilla Factions Expanded - Vikings</li>
    </mods>
	<match Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VFEV_Shield_Round"]/costList</xpath>
				<value>
					<costList>
						<WoodLog>50</WoodLog>
						<VMEu_Iron>20</VMEu_Iron>
					</costList>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/TraderKindDef [defName = "VFEV_Caravan_Looter"]/stockGenerators</xpath>
				<value>
					<li Class="StockGenerator_SingleDef">
						<thingDef>VMEu_Coal</thingDef>
						<countRange>100~300</countRange>
					</li>
					<li Class="StockGenerator_SingleDef">
						<thingDef>VMEu_Copper</thingDef>
						<countRange>100~200</countRange>
					</li>
					<li Class="StockGenerator_SingleDef">
						<thingDef>VMEu_Titanium</thingDef>
						<countRange>50~150</countRange>
					</li>
					<li Class="StockGenerator_SingleDef">
						<thingDef>VMEu_StainlessSteel</thingDef>
						<countRange>50~150</countRange>
					</li>
				</value>
			</li>
		</operations>
	</match>
</Operation>

<Operation Class="PatchOperationFindMod">
    <mods>
        <li>Vanilla Weapons Expanded - Heavy Weapons</li>
    </mods>
	<match Class="PatchOperationSequence">
		<success>Always</success>
		<operations>

			<!-- Autocannon -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_Autocannon"]/costList/Steel</xpath>
				<value>
					<Steel>100</Steel>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_Autocannon"]/costList/Plasteel</xpath>
				<value>
					<Plasteel>20</Plasteel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_Autocannon"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>50</VMEu_StainlessSteel>
				</value>
			</li>

			<!-- Heavy Flamer -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_HeavyFlamer"]/costList/Steel</xpath>
				<value>
					<Steel>60</Steel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_HeavyFlamer"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>20</VMEu_StainlessSteel>
				</value>
			</li>

			<!-- Swarm Missile Launcher -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_SwarmMissileLauncher"]/costList/Steel</xpath>
				<value>
					<Steel>120</Steel>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_SwarmMissileLauncher"]/costList/Plasteel</xpath>
				<value>
					<Plasteel>20</Plasteel>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_SwarmMissileLauncher"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>30</VMEu_StainlessSteel>
					<VMEu_Titanium>20</VMEu_Titanium>
				</value>
			</li>

			<!-- Uranium Slug Rifle -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_UraniumSlugRifle"]/costList/Steel</xpath>
				<value>
					<Steel>80</Steel>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_UraniumSlugRifle"]/costList/Plasteel</xpath>
				<value>
					<Plasteel>15</Plasteel>
				</value>
			</li>
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_UraniumSlugRifle"]/costList/Uranium</xpath>
				<value>
					<Uranium>40</Uranium>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef [defName = "VWE_Gun_UraniumSlugRifle"]/costList</xpath>
				<value>
					<VMEu_StainlessSteel>20</VMEu_StainlessSteel>
				</value>
			</li>
			
		</operations>
	</match>
</Operation>

</Patch>