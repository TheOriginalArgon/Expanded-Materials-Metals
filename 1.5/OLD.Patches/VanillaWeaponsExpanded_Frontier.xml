<Patch>
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Vanilla Weapons Expanded - Frontier</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>

                <!-- Patch weapons added with Quickdraw -->
                <li Class="PatchOperationFindMod">
                    <mods>
                        <li>Vanilla Weapons Expanded - Quickdraw</li>
                    </mods>
                    <match Class="PatchOperationSequence">
                        <success>Always</success>
                        <operations>

                            <!-- Derringer -->
                            <li Class="PatchOperationReplace">
                                <xpath>/Defs/ThingDef [defName = "VWEFT_Gun_Derringer"]/costList/Plasteel</xpath>
                                    <value>
                                        <Plasteel>5</Plasteel>
                                    </value>
                            </li>
                            <li Class="PatchOperationReplace">
                                <xpath>/Defs/ThingDef [defName = "VWEFT_Gun_Derringer"]/costList/Steel</xpath>
                                    <value>
                                        <Steel>15</Steel>
                                    </value>
                            </li>
                            <li Class="PatchOperationAdd">
                                <xpath>/Defs/ThingDef [defName = "VWEFT_Gun_Derringer"]/costList</xpath>
                                    <value>
                                        <VMEu_StainlessSteel>10</VMEu_StainlessSteel>
                                    </value>
                            </li>

                            <!-- Lever-Action Shotgun -->
                            <li Class="PatchOperationReplace">
                                <xpath>/Defs/ThingDef [defName = "VWEFT_Gun_LeverActionShotgun"]/costList/Plasteel</xpath>
                                    <value>
                                        <Plasteel>10</Plasteel>
                                    </value>
                            </li>
                            <li Class="PatchOperationReplace">
                                <xpath>/Defs/ThingDef [defName = "VWEFT_Gun_LeverActionShotgun"]/costList/Steel</xpath>
                                    <value>
                                        <Steel>20</Steel>
                                    </value>
                            </li>
                            <li Class="PatchOperationAdd">
                                <xpath>/Defs/ThingDef [defName = "VWEFT_Gun_LeverActionShotgun"]/costList</xpath>
                                    <value>
                                        <VMEu_StainlessSteel>25</VMEu_StainlessSteel>
                                    </value>
                            </li>
                        </operations>
                    </match>
                </li>

                <!-- Patch weapons added with Heavy Weapons -->
                <li Class="PatchOperationFindMod">
                    <mods>
                        <li>Vanilla Weapons Expanded - Heavy Weapons</li>
                    </mods>
                    <match Class="PatchOperationSequence">
                        <success>Always</success>
                        <operations>

                            <!-- Handheld Gatling Gun -->
                            <li Class="PatchOperationReplace">
                                <xpath>/Defs/ThingDef [defName = "VWEFT_Gun_HandheldGatlingGun"]/costList/Steel</xpath>
                                    <value>
                                        <Steel>100</Steel>
                                    </value>
                            </li>
                            <li Class="PatchOperationAdd">
                                <xpath>/Defs/ThingDef [defName = "VWEFT_Gun_HandheldGatlingGun"]/costList</xpath>
                                    <value>
                                        <VMEu_Iron>50</VMEu_Iron>
                                    </value>
                            </li>
                        </operations>
                    </match>
                </li>

                <!-- Patch weapons added with Laser -->
                <li Class="PatchOperationFindMod">
                    <mods>
                        <li>Vanilla Weapons Expanded - Laser</li>
                    </mods>
                    <match Class="PatchOperationSequence">
                        <success>Always</success>
                        <operations>

                            <!-- Laser Revolver -->
                            <li Class="PatchOperationReplace">
                                <xpath>/Defs/ThingDef [defName = "VWEFT_Gun_SalvagedLaserRevolver"]/costList/Plasteel</xpath>
                                    <value>
                                        <Plasteel>60</Plasteel>
                                    </value>
                            </li>
                            <li Class="PatchOperationAdd">
                                <xpath>/Defs/ThingDef [defName = "VWEFT_Gun_SalvagedLaserRevolver"]/costList</xpath>
                                    <value>
                                        <VMEu_Lithium>12</VMEu_Lithium>
                                        <VMEu_Tungsten>65</VMEu_Tungsten>
                                    </value>
                            </li>

                            <!-- Laser Repeater -->
                            <li Class="PatchOperationReplace">
                                <xpath>/Defs/ThingDef [defName = "VWEFT_Gun_SalvagedLaserRepeater"]/costList/Plasteel</xpath>
                                    <value>
                                        <Plasteel>60</Plasteel>
                                    </value>
                            </li>
                            <li Class="PatchOperationAdd">
                                <xpath>/Defs/ThingDef [defName = "VWEFT_Gun_SalvagedLaserRepeater"]/costList</xpath>
                                    <value>
                                        <VMEu_Lithium>12</VMEu_Lithium>
                                        <VMEu_Tungsten>65</VMEu_Tungsten>
                                    </value>
                            </li>

                            <!-- Laser Hunting Rifle -->
                            <li Class="PatchOperationReplace">
                                <xpath>/Defs/ThingDef [defName = "VWEFT_Gun_SalvagedLaserHuntingRifle"]/costList/Plasteel</xpath>
                                    <value>
                                        <Plasteel>60</Plasteel>
                                    </value>
                            </li>
                            <li Class="PatchOperationAdd">
                                <xpath>/Defs/ThingDef [defName = "VWEFT_Gun_SalvagedLaserHuntingRifle"]/costList</xpath>
                                    <value>
                                        <VMEu_Lithium>12</VMEu_Lithium>
                                        <VMEu_Tungsten>65</VMEu_Tungsten>
                                    </value>
                            </li>
                        </operations>

                    </match>
                </li>

                <!-- Patch weapons added with Coilguns -->
                <li Class="PatchOperationFindMod">
                    <mods>
                        <li>Vanilla Weapons Expanded - Coilguns</li>
                    </mods>
                    <match Class="PatchOperationSequence">
                        <success>Always</success>
                        <operations>

                            <!-- Gauss Revolver -->
                            <li Class="PatchOperationReplace">
                                <xpath>/Defs/ThingDef [defName = "VWEFT_Gun_GaussRevolver"]/costList/Steel</xpath>
                                    <value>
                                        <Steel>30</Steel>
                                    </value>
                            </li>
                            <li Class="PatchOperationAdd">
                                <xpath>/Defs/ThingDef [defName = "VWEFT_Gun_GaussRevolver"]/costList</xpath>
                                    <value>
                                        <VMEu_Copper>2.5</VMEu_Copper>
                                    </value>
                            </li>

                            <!-- Gauss Repeater -->
                            <li Class="PatchOperationReplace">
                                <xpath>/Defs/ThingDef [defName = "VWEFT_Gun_GaussRepeater"]/costList/Steel</xpath>
                                    <value>
                                        <Steel>50</Steel>
                                    </value>
                            </li>
                            <li Class="PatchOperationAdd">
                                <xpath>/Defs/ThingDef [defName = "VWEFT_Gun_GaussRepeater"]/costList</xpath>
                                    <value>
                                        <VMEu_Copper>3.5</VMEu_Copper>
                                    </value>
                            </li>
                        </operations>

                    </match>
                </li>




            </operations>
        </match>
    </Operation>
</Patch>